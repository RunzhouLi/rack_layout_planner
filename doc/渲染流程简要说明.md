# 3D货架渲染流程简要说明

本项目的渲染流程主要分为以下几个步骤：

1. **初始化场景与配置**
   - 通过`constructLR`函数初始化场景，设置雾效（addFog）、测量标注（dynText）等。
   - 解析配置（configurator），支持单组或多组货架（rackGroups）。

2. **计算场景尺寸与布局**
   - 计算每组货架的宽度、场景边界（minX, maxX, minZ, maxZ），用于后续定位和测量。
   - 生成总宽度、深度、高度的动态标注文本。

3. **逐组渲染货架结构**
   - 遍历每个rackGroup，依次渲染立柱（stand）、隔板（shelf）、横梁（traverse/kanban）等部件。
   - 通过`addObject`函数将模型按计算位置添加到场景。
   - 支持双面货架（doubleSided），自动添加连接件（spacer）。

4. **货架部件渲染细节**
   - 每个部件根据配置动态获取模型（如Shelf_wood、Traverse_angular等）。
   - 支持不同类型层板（木板、钢板、斜板、多层板、网格板）。
   - 位置、朝向、镜像等通过参数灵活控制。

5. **双面货架镜像逻辑**
   - 若启用双面模式，自动对非Plank部件进行Z轴镜像，生成背面结构。

6. **辅助功能**
   - 动态测量文本实时显示货架的宽、高、深。
   - 支持多组货架的绝对定位与布局。

7. **渲染终止与优化**
   - 跳过旧的定位代码，避免重复渲染。
   - 所有模型通过`addObject`统一添加，便于后续管理和扩展。

---

如需详细了解每个函数或模块，请查阅`src/components/model-constructor-lr.js`及相关依赖。
